# üìã –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ò–ù–ù

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–¥:

### Backend:
- ‚úÖ –†–æ—É—Ç–µ—Ä `/inn-extraction/extract-batch` –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `app/main.py`
- ‚úÖ –†–æ—É—Ç–µ—Ä –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Endpoint –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ `backend/app/transport/routers/inn_extraction.py`
- ‚úÖ –°—Ö–µ–º—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- ‚úÖ Usecase —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ö†Ô∏è Endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ (–≤–æ–∑–º–æ–∂–Ω–æ, Backend –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é)

### Frontend:
- ‚úÖ API —Ñ—É–Ω–∫—Ü–∏—è `extractINNBatch` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `lib/api.ts`
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ `app/parsing-runs/[runId]/page.tsx`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `handleExtractINN` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (—Å—Ç—Ä–æ–∫–∏ 659-682)
- ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è UI —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
  - `selectedDomains` - Set<string>
  - `innExtractionDialogOpen` - boolean
  - `innExtractionResults` - INNExtractionResultDTO[]
  - `innExtractionLoading` - boolean
  - `innExtractionProgress` - {processed, total}
- ‚úÖ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
  - –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–æ–º–µ–Ω–æ–≤ (—Å—Ç—Ä–æ–∫–∞ 831)
  - –ö–Ω–æ–ø–∫–∏ "–í—ã–±—Ä–∞—Ç—å –≤—Å–µ" / "–°–Ω—è—Ç—å –≤—ã–±–æ—Ä" (—Å—Ç—Ä–æ–∫–∏ 742-757)
  - –ö–Ω–æ–ø–∫–∞ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å" (—Å—Ç—Ä–æ–∫–∏ 718-728)
  - –ö–Ω–æ–ø–∫–∞ "–ò–∑–≤–ª–µ—á—å –ò–ù–ù" (—Å—Ç—Ä–æ–∫–∏ 729-736)
  - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ (—Å—Ç—Ä–æ–∫–∏ 1320-1414)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä—É—Ñ–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
  - URL (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞)
  - –ú–µ—Ç–æ–¥ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
  - –£—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
  - –ö–æ–Ω—Ç–µ–∫—Å—Ç (—Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ç–µ–∫—Å—Ç–∞)

### –¢–∏–ø—ã TypeScript:
- ‚úÖ `INNExtractionBatchResponse` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ `lib/types.ts`
- ‚úÖ `INNExtractionResultDTO` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
- ‚úÖ `INNExtractionProofDTO` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω

## üîç –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª–µ–π –ø–∞—Ä—Å–∏–Ω–≥–∞:
- URL: `http://localhost:3000/parsing-runs/{runId}`
- –î–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ–∫–±–æ–∫—Å—ã:
- ‚úÖ –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã —á–µ–∫–±–æ–∫—Å—ã —Å–ª–µ–≤–∞ –æ—Ç –∫–∞–∂–¥–æ–≥–æ –¥–æ–º–µ–Ω–∞
- ‚úÖ –ö–ª–∏–∫ –ø–æ —á–µ–∫–±–æ–∫—Å—É –¥–æ–ª–∂–µ–Ω –≤—ã–¥–µ–ª–∏—Ç—å/—Å–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞
- ‚úÖ –°—á–µ—Ç—á–∏–∫ "–í—ã–±—Ä–∞–Ω–æ: X" –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–æ–ø–∫–∏:
- ‚úÖ "–í—ã–±—Ä–∞—Ç—å –≤—Å–µ" - –≤—ã–¥–µ–ª—è–µ—Ç –≤—Å–µ –¥–æ–º–µ–Ω—ã
- ‚úÖ "–°–Ω—è—Ç—å –≤—ã–±–æ—Ä" - —Å–Ω–∏–º–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤
- ‚úÖ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å (X)" - –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–æ–º–µ–Ω–æ–≤, –∫–æ–ø–∏—Ä—É–µ—Ç –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
- ‚úÖ "–ò–∑–≤–ª–µ—á—å –ò–ù–ù (X)" - –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–æ–º–µ–Ω–æ–≤

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ò–ù–ù:
- ‚úÖ –í—ã–±–µ—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–º–µ–Ω–æ–≤
- ‚úÖ –ù–∞–∂–º–∏—Ç–µ "–ò–∑–≤–ª–µ—á—å –ò–ù–ù"
- ‚úÖ –î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ò–ù–ù"
- ‚úÖ –î–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å: "–û–±—Ä–∞–±–æ—Ç–∫–∞: X –∏–∑ Y –¥–æ–º–µ–Ω–æ–≤"
- ‚úÖ –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- ‚úÖ –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–º–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å (success/not_found/error)
- ‚úÖ –î–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ò–ù–ù –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–æ–º–µ—Ä –ò–ù–ù
- ‚úÖ –î–ª—è –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ò–ù–ù –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä—É—Ñ—ã:
  - URL (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞)
  - –ú–µ—Ç–æ–¥ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
  - –£—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
  - –ö–æ–Ω—Ç–µ–∫—Å—Ç (—Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ç–µ–∫—Å—Ç–∞ –≤–æ–∫—Ä—É–≥ –ò–ù–ù)

### 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12):
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ JavaScript
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ Network tab
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —É—Å–ø–µ—à–Ω—ã (—Å—Ç–∞—Ç—É—Å 200, 201, 204)

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **Endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404:**
   - **–ü—Ä–∏—á–∏–Ω–∞**: Backend –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å –Ω–æ–≤—ã–º —Ä–æ—É—Ç–µ—Ä–æ–º
   - **–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Backend –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ:
     ```powershell
     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã uvicorn
     Get-Process | Where-Object { $_.ProcessName -eq "uvicorn" } | Stop-Process -Force
     
     # –ó–∞–ø—É—Å—Ç–∏—Ç—å Backend –∑–∞–Ω–æ–≤–æ
     cd backend
     python -m uvicorn app.main:app --reload --host 127.0.0.1 --port 8000
     ```

2. **–û—à–∏–±–∫–∞ TypeScript –≤ `supplier-card.tsx`:**
   - **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ —Å–≤—è–∑–∞–Ω–∞ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ò–ù–ù
   - **–†–µ—à–µ–Ω–∏–µ**: –¢—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

## ‚úÖ –ò—Ç–æ–≥:

**–ö–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –º–µ—Å—Ç–µ, —Ç–∏–ø—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Backend —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Backend –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ.






# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ B2B Platform

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç—Ä–∞–∂–∞–µ—Ç –¢–û–õ–¨–ö–û –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ –∏ —Ä–∞–±–æ—á–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.**

**–ü—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
1. **–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
2. **–ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç—ã –∏–ª–∏ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
3. **–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - —ç—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω–æ –∫–∞–∫ "–ù–ï –†–ê–ë–û–¢–ê–ï–¢" –∏–ª–∏ "–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò"**
4. **–ü—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ - —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ—Ç–æ–º –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é**

**üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
- **–ò–Ω–¥–µ–∫—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**: [`docs/DOCUMENTATION_INDEX.md`](DOCUMENTATION_INDEX.md)
- **–ë–∏–±–ª–∏—è –æ—à–∏–±–æ–∫**: [`docs/TROUBLESHOOTING.md`](TROUBLESHOOTING.md) - **–ù–ê–ß–ò–ù–ê–ô –û–¢–°–Æ–î–ê –ø—Ä–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ**
- **–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã**: [`.cursorrules`](../../.cursorrules)

**üîç –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç / –ò–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞
- üîß –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### 1.1 –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

1. **Backend (FastAPI)** - API —Å–µ—Ä–≤–µ—Ä –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
   - –ü–æ—Ä—Ç: `8000`
   - –ë–∞–∑–æ–≤—ã–π URL: `http://127.0.0.1:8000`
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: `http://127.0.0.1:8000/docs`

2. **Frontend (Next.js)** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - –ü–æ—Ä—Ç: `3000`
   - URL: `http://localhost:3000`

3. **Parser Service** - –°–µ—Ä–≤–∏—Å –ø–∞—Ä—Å–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ Chrome CDP
   - –ü–æ—Ä—Ç: `9003`
   - –ë–∞–∑–æ–≤—ã–π URL: `http://127.0.0.1:9003`

### 1.2 –°–ª–æ–∏ Backend

```
backend/app/
‚îú‚îÄ‚îÄ transport/          # HTTP —Å–ª–æ–π (—Ä–æ—É—Ç–µ—Ä—ã, —Å—Ö–µ–º—ã)
‚îÇ   ‚îú‚îÄ‚îÄ routers/       # FastAPI endpoints (–¢–û–õ–¨–ö–û –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)
‚îÇ   ‚îî‚îÄ‚îÄ schemas/       # Pydantic —Å—Ö–µ–º—ã (DTO)
‚îú‚îÄ‚îÄ usecases/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –±–µ–∑ HTTP)
‚îú‚îÄ‚îÄ adapters/          # –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (Parser, Checko, –ë–î)
‚îÇ   ‚îú‚îÄ‚îÄ db/           # –†–∞–±–æ—Ç–∞ —Å –ë–î (–º–æ–¥–µ–ª–∏, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
‚îÇ   ‚îî‚îÄ‚îÄ parser_client.py
‚îî‚îÄ‚îÄ domain/            # –î–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –†–æ—É—Ç–µ—Ä—ã (`transport/routers`) - –¢–û–õ–¨–ö–û –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è, –ù–ï –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- Usecases - –≤—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –æ—Ç HTTP
- Adapters - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ: –ø–∏—Å–∞—Ç—å SQL –∏–ª–∏ —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –ø—Ä—è–º–æ –≤ —Ä–æ—É—Ç–µ—Ä–∞—Ö

---

## 2. API Endpoints (Backend)

**‚ö†Ô∏è –í–ê–ñ–ù–û: –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç –û–ñ–ò–î–ê–ï–ú–û–ï –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –†–µ–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ endpoint –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏ –ø–æ–º–µ—á–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–º.**

### 2.1 –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í—Å–µ endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON
- –í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON —Å –ø–æ–ª–µ–º `detail`
- CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–æ –í–°–ï–ú –æ—Ç–≤–µ—Ç–∞–º (–≤–∫–ª—é—á–∞—è –æ—à–∏–±–∫–∏)
- –í—Å–µ –¥–∞—Ç—ã –≤ –æ—Ç–≤–µ—Ç–∞—Ö - —Å—Ç—Ä–æ–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO (`YYYY-MM-DD`)

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –û—à–∏–±–∫–µ 3, TROUBLESHOOTING.md)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å CORS —Ä–∞–±–æ—Ç–∞–µ—Ç (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –û—à–∏–±–∫–µ 3)
- ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò:** –í—Å–µ endpoints –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î
- ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò:** –í—Å–µ edge cases –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### 2.2 Suppliers (–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏)

**–ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å:** `/moderator/suppliers`

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ —Å –∏–º–ø–æ—Ä—Ç–æ–º `date` (–û—à–∏–±–∫–∞ 4)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `date` ‚Üí `string` (–û—à–∏–±–∫–∞ 2)
- ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò:** –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò:** –ü–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### `GET /moderator/suppliers`
–°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `limit` (int, default=100, min=1, max=1000) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
- `offset` (int, default=0, min=0) - —Å–º–µ—â–µ–Ω–∏–µ
- `type` (string, optional) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É (`supplier` –∏–ª–∏ `reseller`)

**Response:**
```json
{
  "suppliers": [
    {
      "id": 1,
      "name": "–û–û–û –ö–æ–º–ø–∞–Ω–∏—è",
      "inn": "1234567890",
      "email": "info@company.ru",
      "domain": "company.ru",
      "registrationDate": "2005-07-15",  // ISO string
      // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
    }
  ],
  "total": 100,
  "limit": 100,
  "offset": 0
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–ª–µ `registrationDate` –í–°–ï–ì–î–ê —Å—Ç—Ä–æ–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO, –ù–ï –æ–±—ä–µ–∫—Ç `date`
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `date` ‚Üí `string` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ä–æ—É—Ç–µ—Ä–µ –ü–ï–†–ï–î –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π DTO
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `from_attributes=False` –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### `GET /moderator/suppliers/{supplier_id}`
–ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –ø–æ ID.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

**Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `supplier_id` (int) - ID –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

**Response:** `ModeratorSupplierDTO`

**–û—à–∏–±–∫–∏:**
- `404` - –ø–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω

#### `POST /moderator/suppliers`
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

**Request body:** `CreateModeratorSupplierRequestDTO`

**Response:** `ModeratorSupplierDTO` (status 201)

#### `PUT /moderator/suppliers/{supplier_id}`
–û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

**Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `supplier_id` (int) - ID –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

**Request body:** `UpdateModeratorSupplierRequestDTO` (camelCase)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Backend –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç camelCase ‚Üí snake_case –¥–ª—è –ë–î
- –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π: `companyStatus` ‚Üí `company_status`, `registrationDate` ‚Üí `registration_date`

**Response:** `ModeratorSupplierDTO`

**–û—à–∏–±–∫–∏:**
- `404` - –ø–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω

#### `DELETE /moderator/suppliers/{supplier_id}`
–£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

**Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `supplier_id` (int) - ID –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

**Response:** `204 No Content`

**–û—à–∏–±–∫–∏:**
- `404` - –ø–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω

#### `GET /moderator/suppliers/{supplier_id}/keywords`
–ü–æ–ª—É—á–∏—Ç—å keywords –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å NaN –≤ –û—à–∏–±–∫–µ 5, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

**Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `supplier_id` (int) - ID –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–í–ê–õ–ò–î–ù–´–ô, –Ω–µ NaN)

**Response:**
```json
{
  "keywords": [
    {
      "keyword": "—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞",
      "urlCount": 10,
      "runId": "uuid-string",
      "firstUrl": "https://example.com"
    }
  ]
}
```

**–û—à–∏–±–∫–∏:**
- `422` - –µ—Å–ª–∏ `supplier_id` –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π (NaN, –Ω–µ —á–∏—Å–ª–æ, <= 0) - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Frontend (–û—à–∏–±–∫–∞ 5)
- `404` - –ø–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω

### 2.3 Keywords (–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞)

**–ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å:** `/keywords`

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

#### `GET /keywords`
–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö keywords.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

**Response:**
```json
{
  "keywords": [
    {
      "id": 1,
      "keyword": "—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞",
      "createdAt": "2025-12-26T10:00:00Z"
    }
  ]
}
```

#### `POST /keywords`
–°–æ–∑–¥–∞—Ç—å keyword.

**Request body:**
```json
{
  "keyword": "—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞"
}
```

**Response:** `KeywordDTO` (status 201)

#### `DELETE /keywords/{keyword_id}`
–£–¥–∞–ª–∏—Ç—å keyword.

**Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `keyword_id` (int) - ID keyword

**Response:** `204 No Content`

**–û—à–∏–±–∫–∏:**
- `404` - keyword –Ω–µ –Ω–∞–π–¥–µ–Ω

### 2.4 Parsing (–ü–∞—Ä—Å–∏–Ω–≥)

**–ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å:** `/parsing`

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Parser Service –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞)

#### `POST /parsing/start`
–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥.

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

**Request body:**
```json
{
  "keyword": "—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞",
  "maxUrls": 10
}
```

**Response:**
```json
{
  "runId": "uuid-string",
  "keyword": "—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞",
  "status": "running"
}
```

#### `GET /parsing/status/{run_id}`
–°—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–∏–Ω–≥–∞.

**Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `run_id` (string) - UUID –∑–∞–ø—É—Å–∫–∞

**Response:** `ParsingStatusResponseDTO`

### 2.5 Parsing Runs (–ò—Å—Ç–æ—Ä–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞)

**–ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å:** `/parsing/runs`

#### `GET /parsing/runs`
–°–ø–∏—Å–æ–∫ –∑–∞–ø—É—Å–∫–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞.

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `limit` (int, default=100, min=1, max=1000)
- `offset` (int, default=0, min=0)

**Response:** `ParsingRunsListResponseDTO`

#### `GET /parsing/runs/{run_id}`
–ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø—É—Å–∫ –ø–æ ID.

**Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `run_id` (string) - UUID –∑–∞–ø—É—Å–∫–∞

**Response:** `ParsingRunDTO`

**–û—à–∏–±–∫–∏:**
- `404` - –∑–∞–ø—É—Å–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω

### 2.6 Blacklist (–ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫)

**–ë–∞–∑–æ–≤—ã–π –ø—É—Ç—å:** `/moderator/blacklist`

#### `GET /moderator/blacklist`
–°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `limit` (int, default=100, min=1, max=1000)
- `offset` (int, default=0, min=0)

**Response:** `BlacklistResponseDTO`

#### `POST /moderator/blacklist`
–î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω –≤ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫.

**Request body:** `AddToBlacklistRequestDTO` (camelCase)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Backend –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç `addedBy` ‚Üí `added_by`, `parsingRunId` ‚Üí `parsing_run_id`

**Response:** `BlacklistEntryDTO` (status 201)

#### `DELETE /moderator/blacklist/{domain}`
–£–¥–∞–ª–∏—Ç—å –¥–æ–º–µ–Ω –∏–∑ —á–µ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.

**Path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `domain` (string) - –¥–æ–º–µ–Ω

**Response:** `204 No Content`

**–û—à–∏–±–∫–∏:**
- `404` - –¥–æ–º–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —á–µ—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ

### 2.7 Health Check

#### `GET /health`
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–í–ï–†–ï–ù–û** (–±–∞–∑–æ–≤—ã–π endpoint, –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)

**Response:**
```json
{
  "status": "ok"
}
```

---

## 3. Frontend (Next.js)

### 3.1 –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Next.js 16** (App Router)
- **TypeScript** (strict mode)
- **React 18**
- **Tailwind CSS**
- **Shadcn UI**

### 3.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ —Å params –∏ NaN, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

#### `/` (–ì–ª–∞–≤–Ω–∞—è)
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

#### `/suppliers` (–°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `SuppliersClient`
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ `GET /moderator/suppliers`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é
- –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å –∏–º–ø–æ—Ä—Ç–æ–º date, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

#### `/suppliers/[id]` (–î–µ—Ç–∞–ª–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `SupplierDetailClient`
- **–í–ê–ñ–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `async` —Ñ—É–Ω–∫—Ü–∏—é –∏ `await params` (Next.js 16+) - ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** (–û—à–∏–±–∫–∞ 6)
- –í–∞–ª–∏–¥–∞—Ü–∏—è ID: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ `NaN` –∏ `<= 0` - ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** (–û—à–∏–±–∫–∞ 5)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç:
  - –ü–æ—Å—Ç–∞–≤—â–∏–∫–∞: `GET /moderator/suppliers/{id}`
  - Keywords: `GET /moderator/suppliers/{id}/keywords`
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–µ `[object Object]` - ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** (–û—à–∏–±–∫–∞ 5)
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

#### `/suppliers/[id]/edit` (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `SupplierEditClient`
- **–í–ê–ñ–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `async` —Ñ—É–Ω–∫—Ü–∏—é –∏ `await params` (Next.js 16+) - ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** (–û—à–∏–±–∫–∞ 6)
- –í–∞–ª–∏–¥–∞—Ü–∏—è ID –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π - ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** (–û—à–∏–±–∫–∞ 5)
- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

#### `/keywords` (–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞)
- –°–ø–∏—Å–æ–∫ keywords
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ keyword
- –£–¥–∞–ª–µ–Ω–∏–µ keyword
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

#### `/blacklist` (–ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫)
- –°–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –≤ —á–µ—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞
- –£–¥–∞–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

#### `/parsing-runs` (–ò—Å—Ç–æ—Ä–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞)
- –°–ø–∏—Å–æ–∫ –∑–∞–ø—É—Å–∫–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò**

#### `/manual-parsing` (–†—É—á–Ω–æ–π –ø–∞—Ä—Å–∏–Ω–≥)
- –§–æ—Ä–º–∞ –∑–∞–ø—É—Å–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ü–æ–ª—è: keyword, maxUrls
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò** (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Parser Service –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞)

### 3.3 –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è Next.js 16+:**

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
export default async function Page({
  params,
}: {
  params: Promise<{ id: string }>
}) {
  const { id } = await params
  const supplierId = parseInt(id, 10)
  
  // –í–∞–ª–∏–¥–∞—Ü–∏—è
  if (isNaN(supplierId) || supplierId <= 0) {
    return <div>–û—à–∏–±–∫–∞: –ù–µ–≤–µ—Ä–Ω—ã–π ID</div>
  }
  
  return <Component supplierId={supplierId} />
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (Next.js 15 –∏ –Ω–∏–∂–µ)
export default function Page({
  params,
}: {
  params: { id: string }
}) {
  const supplierId = parseInt(params.id, 10)
  // ...
}
```

### 3.4 API –∫–ª–∏–µ–Ω—Ç (`lib/api.ts`)

**–ü—Ä–∞–≤–∏–ª–∞:**
- –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ `apiFetch()`
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fetch()` –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ë–∞–∑–æ–≤—ã–π URL –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–§–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫:**
- –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ `APIError`
- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö - —á–∏—Ç–∞–µ–º—ã–µ —Å—Ç—Ä–æ–∫–∏, –Ω–µ –æ–±—ä–µ–∫—Ç—ã

### 3.5 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ü—Ä–∞–≤–∏–ª–∞:**
1. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –≤—ã–≤–æ–¥–æ–º
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `JSON.stringify()` –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –æ—à–∏–±–æ–∫
3. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
4. –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `[object Object]`

**–ü—Ä–∏–º–µ—Ä:**
```typescript
if (error || !supplier) {
  const errorMessage = error || "–ü–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω"
  return (
    <div className="text-red-500 p-4">
      –û—à–∏–±–∫–∞: {typeof errorMessage === 'string' 
        ? errorMessage 
        : JSON.stringify(errorMessage)}
    </div>
  )
}
```

---

## 4. –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

### 4.1 –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è

**Backend:**
- –í –ë–î: `date` (SQLAlchemy `Date`) –∏–ª–∏ `datetime` (SQLAlchemy `DateTime`)
- –í DTO: `Optional[str]` (ISO —Å—Ç—Ä–æ–∫–∞)
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è: `date.isoformat()` –∏–ª–∏ `datetime.isoformat()`
- **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ü–ï–†–ï–î –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π DTO

**–ü—Ä–∏–º–µ—Ä:**
```python
# –í —Ä–æ—É—Ç–µ—Ä–µ
if isinstance(s.registration_date, date):
    registration_date_str = s.registration_date.isoformat()
else:
    registration_date_str = str(s.registration_date)

supplier_dict = {
    # ...
    'registration_date': registration_date_str,
}
supplier_dtos.append(ModeratorSupplierDTO.model_validate(supplier_dict, from_attributes=False))
```

**Frontend:**
- –í—Å–µ –¥–∞—Ç—ã - —Å—Ç—Ä–æ–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `formatDate()`

### 4.2 –ò–º–ø–æ—Ä—Ç—ã (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ!)

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ø—Ä–∞–≤–∏–ª–∞:**

1. **–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–∏–ø–∞:**
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å `isinstance(obj, date)` ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `from datetime import date`
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å `isinstance(obj, datetime)` ‚Üí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `from datetime import datetime`

2. **–ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–¥–∞:**
   - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫ –∏–º–ø–æ—Ä—Ç–æ–≤ –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º
   - –ï—Å–ª–∏ –∫–æ–ø–∏—Ä—É–µ—à—å —Ñ—É–Ω–∫—Ü–∏—é —Å `date` ‚Üí –∫–æ–ø–∏—Ä—É–π –∏ `from datetime import date`

3. **–ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ:**
   - –ù–ï —É–¥–∞–ª—è—Ç—å –∏–º–ø–æ—Ä—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ
   - –ü–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ grep

4. **–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `python temp/backend/check_imports.py`
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏

### 4.3 –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**Backend:**
- –í—Å–µ path –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (`ge`, `le`, `min_length`, etc.)

**Frontend:**
- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
- `parseInt(value, 10)` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ `isNaN()`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–π (`> 0` –¥–ª—è ID)

**–ü—Ä–∏–º–µ—Ä:**
```typescript
const supplierId = parseInt(params.id, 10)

if (isNaN(supplierId) || supplierId <= 0) {
  return <div>–û—à–∏–±–∫–∞: –ù–µ–≤–µ—Ä–Ω—ã–π ID –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</div>
}
```

---

## 5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 5.1 Backend

**–ü—Ä–∞–≤–∏–ª–∞:**
- –í—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∞–∂–µ –∫ –æ—à–∏–±–∫–∞–º
- –û—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON —Å –ø–æ–ª–µ–º `detail`
- –í development —Ä–µ–∂–∏–º–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è traceback

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—à–∏–±–∫–∏:**
```json
{
  "detail": "Error message or traceback in development"
}
```

### 5.2 Frontend

**–ü—Ä–∞–≤–∏–ª–∞:**
- –í—Å–µ –æ—à–∏–±–∫–∏ API –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ `APIError`
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ (–∫—Ä–æ–º–µ development)
- –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## 6. CORS

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ origins: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `backend/app/config.py`
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–æ –í–°–ï–ú –æ—Ç–≤–µ—Ç–∞–º (–≤–∫–ª—é—á–∞—è –æ—à–∏–±–∫–∏)
- –ú–µ—Ç–æ–¥—ã: `*` (–≤—Å–µ)
- Credentials: —Ä–∞–∑—Ä–µ—à–µ–Ω—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í—Å–µ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å `Access-Control-Allow-Origin`
- –î–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö 500 CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

---

## 7. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### 7.1 –ú–∏–≥—Ä–∞—Ü–∏–∏

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –ë–î —á–µ—Ä–µ–∑ SQL –º–∏–≥—Ä–∞—Ü–∏–∏
- –§–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π –≤ `backend/migrations/`
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: `psql -U postgres -d database -f migrations/001_initial_schema.sql`

### 7.2 –ú–æ–¥–µ–ª–∏

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLAlchemy 2.0
- –í—Å–µ –º–æ–¥–µ–ª–∏ –≤ `backend/app/adapters/db/models.py`
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ `AsyncSession`

---

## 8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 8.1 Backend

- Unit —Ç–µ—Å—Ç—ã: `backend/tests/unit/`
- Integration —Ç–µ—Å—Ç—ã: `backend/tests/integration/`
- Contract —Ç–µ—Å—Ç—ã: `backend/tests/contract/`

### 8.2 Frontend

- Type checking: `npm run type-check`
- Linting: `npm run lint`
- Build –ø—Ä–æ–≤–µ—Ä–∫–∞: `npm run build`

---

## 9. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### 9.1 –ü–æ—Ä—Ç—ã

- Backend: `8000`
- Frontend: `3000` (dev), `3000` (prod)
- Parser Service: `9003`
- Chrome CDP: `9222`

### 9.2 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Backend:**
- `DATABASE_URL` - —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `ENV` - –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`development` –∏–ª–∏ `production`)
- `CORS_ORIGINS` - —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ origins (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)

**Frontend:**
- `NEXT_PUBLIC_API_URL` - URL Backend API

---

## 10. –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:**

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å `python temp/backend/check_imports.py`
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∏–ø—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ ID –∏–∑ URL)
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `[object Object]`)
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –¥–∞—Ç (date ‚Üí ISO string)
6. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö)
7. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
8. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ API –∏–ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è

---

## 11. –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

–í—Å–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ `docs/TROUBLESHOOTING.md`.

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ:**
- –û—à–∏–±–∫–∞ 4: NameError —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–º –∏–º–ø–æ—Ä—Ç–æ–º `date`
- –û—à–∏–±–∫–∞ 5: 422 —Å `NaN` –≤ URL
- –û—à–∏–±–∫–∞ 6: Next.js 16 async params

---

## 12. –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

**‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.

**–ü—Ä–∞–≤–∏–ª–∞:**
1. –ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –ø—Ä–æ–≤–µ—Ä–∫–∞
2. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø–æ–º–µ—á–∞—Ç—å –∫–∞–∫ "‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç" –∏–ª–∏ "‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏"
3. –ü—Ä–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ - —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ—Ç–æ–º –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
4. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ `docs/TROUBLESHOOTING.md`

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** —Å–º. [`docs/DIAGNOSTICS_PROCESS.md`](DIAGNOSTICS_PROCESS.md)

---

## 13. –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

### –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ

‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (–Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö):**
- –û—à–∏–±–∫–∞ 4: –ò–º–ø–æ—Ä—Ç `date` –≤ `moderator_suppliers.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- –û—à–∏–±–∫–∞ 5: –í–∞–ª–∏–¥–∞—Ü–∏—è ID –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ Frontend - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- –û—à–∏–±–∫–∞ 6: Next.js 16 async params - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- –û—à–∏–±–∫–∞ 3: CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- –û—à–∏–±–∫–∞ 2: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `date` ‚Üí `string` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò:**
- –í—Å–µ API endpoints –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î
- –í—Å–µ Frontend —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Parser Service
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Checko API - ‚ö†Ô∏è **–ò–°–ü–†–ê–í–õ–ï–ù–ê** –æ—à–∏–±–∫–∞ —Å Promise.all (–û—à–∏–±–∫–∞ 7), –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- Edge cases

**–ü—Ä–æ—Ü–µ—Å—Å:** –°–º. [`docs/DIAGNOSTICS_PROCESS.md`](DIAGNOSTICS_PROCESS.md)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–°–º. —Ä–∞–∑–¥–µ–ª "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏" –≤ [`docs/TROUBLESHOOTING.md`](TROUBLESHOOTING.md)**

---

## 14. –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **2025-12-26**: –°–æ–∑–¥–∞–Ω–∞ –ø–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **2025-12-26**: –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **2025-12-26**: –£—Ç–æ—á–Ω–µ–Ω–æ, —á—Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç—Ä–∞–∂–∞–µ—Ç –¢–û–õ–¨–ö–û –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- **2025-12-26**: –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã –¥–ª—è –≤—Å–µ—Ö endpoints –∏ —Å—Ç—Ä–∞–Ω–∏—Ü
- **2025-12-26**: –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞" —Å —É–∫–∞–∑–∞–Ω–∏–µ–º, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

**–ü–æ–º–Ω–∏: –≠—Ç–∞ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç—Ä–∞–∂–∞–µ—Ç –†–ï–ê–õ–¨–ù–û–ï —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã. –û–±–Ω–æ–≤–ª—è–π –µ—ë –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏!**


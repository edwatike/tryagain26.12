⚠️ **АРХИВ. Актуальная версия: см. `docs/MASTER_INSTRUCTION.md`**

# Промпт для V0: Карточка поставщика (Checko данные)

Сверстай аккуратную карточку поставщика для модераторского кабинета на основе данных из Checko API.

## Структура данных (JSON)

```typescript
interface SupplierCardData {
  // Базовая информация
  name: string
  inn: string
  registrationDate: string // ISO date
  companyStatus: string // "Действующая" и т.п.
  
  // Финансовые данные по годам
  finances: {
    [year: string]: {
      revenue: number // Выручка
      profit: number // Прибыль
      changeFromPrevious?: string // "+15.2%" или "-5.1%"
    }
  }
  
  // Данные по рискам
  risks: {
    arbitration: {
      total: number // Всего дел
      asPlaintiff: number // Истец
      asDefendant: number // Ответчик
      sum: number // Сумма исков в рублях
    }
    inspections: {
      total: number // Количество проверок
      violations?: number // Нарушений
    }
    enforcements: {
      count: number // Исполнительных производств
    }
  }
  
  // Вердикт (вычисляется на фронте)
  verdict: {
    level: "low" | "medium" | "high"
    explanation: string // "из-за большой суммы исков и количества проверок"
    recommendation: string // "усиленный мониторинг" или "рассмотреть добавление в blacklist"
  }
}
```

## Макет карточки

### 1. Заголовок карточки
- Название компании (крупный шрифт, жирный)
- ИНН, дата регистрации, статус компании (мелкий текст, приглушенный цвет)
- Бейдж типа: "Поставщик" или "Реселлер"

### 2. Блок "Финансовая история"

**Заголовок:** "Финансовая история" (средний размер, жирный)

**Селект года (слева вверху):**
- Лейбл: "Год:"
- Dropdown с годами (2016, 2017, ..., 2024)
- По умолчанию выбран последний год
- Стиль: минималистичный, в стиле shadcn/ui Select

**График (под селектом):**
- Один line-chart по ВСЕМ годам сразу
- Ось X: годы (без подписей, только визуально)
- Ось Y: выручка (основная линия, синий, толще) и прибыль (вторая линия, зеленый/красный, тоньше)
- Без сетки, без лишних подписей
- Спокойные цвета, минималистичный стиль
- Высота графика: ~60-80px
- При выборе года в dropdown можно подсветить соответствующую точку на графике (мягко, без резких анимаций)

**Детали выбранного года (под графиком):**
- Карточка с данными только выбранного года:
  - "Выручка: 125.5 млн ₽"
  - "Прибыль: 12.3 млн ₽"
  - "Изменение к прошлому году: +15.2%"
- НЕ показывать все годы списком, только один выбранный

### 3. Блок "Риски"

**Заголовок:** "Риски" (средний размер, жирный)

**Вердикт (первая строка):**
- Текст: "Вердикт: риск низкий/средний/высокий"
- Цветной бейдж:
  - Низкий: зеленый (#22c55e)
  - Средний: желтый (#eab308)
  - Высокий: красный (#ef4444)
- Стиль: Badge компонент, аккуратный, не слишком яркий

**Карточка "Арбитраж":**
- Фон: приглушенный (muted background)
- Текст:
  - "Дел всего: 201, истец: 0, ответчик: 0"
  - "Сумма исков: 352.8 млрд ₽" (если большая сумма - выделить красным и жирным)
- Если истец и ответчик = 0, добавить примечание:
  "Судебные споры не зафиксированы как истец/ответчик, но есть агрегированная сумма исков"

**Карточка "Проверки и исполнительные производства":**
- Фон: приглушенный (muted background)
- Текст:
  - "Проверок: 15"
  - "Исполнительных производств: 3" (если есть - выделить красным)

**Объяснение вердикта (под карточками):**
- Мелкий текст, приглушенный цвет
- Пример: "Риск повышен из-за большой суммы исков и количества проверок"

**Рекомендация модератора:**
- Текст: "Рекомендуемое действие модератора: усиленный мониторинг"
- Стиль: обычный текст, не бейдж

**Кнопки действий (под рекомендацией):**
- "Редактировать" (primary button)
- "Добавить в blacklist" (destructive button)
- "Ключевые слова" (outline button)
- Выровнены вправо

## Стиль и дизайн

- **Минималистичный бизнес-дешборд стиль:**
  - Много белого пространства
  - Аккуратная типографика
  - Спокойные цвета (неяркие)
  - Четкие границы между блоками (Separator или тонкие линии)

- **Цветовая схема:**
  - Основной текст: темно-серый/черный
  - Второстепенный текст: серый (muted-foreground)
  - Фоны карточек: очень светлый серый (muted/30)
  - Акценты: синий для выручки, зеленый/красный для прибыли
  - Риски: зеленый/желтый/красный для вердикта

- **Типографика:**
  - Заголовки: font-semibold, средний размер
  - Основной текст: обычный, читаемый размер
  - Мелкие детали: text-xs, muted-foreground

- **Отступы:**
  - Между блоками: space-y-6
  - Внутри блоков: p-4 или p-3
  - Между элементами: gap-2 или gap-3

- **Компоненты:**
  - Использовать shadcn/ui компоненты (Card, Badge, Button, Select, Separator)
  - Карточки с rounded-lg и легким фоном
  - График: SVG polyline, без лишних элементов

## Логика расчета вердикта

```typescript
// Псевдокод для расчета вердикта
function calculateVerdict(data) {
  const hasEnforcements = data.risks.enforcements.count > 0
  const hasLargeSum = data.risks.arbitration.sum > 1_000_000_000 // 1 млрд
  const hasManyCases = data.risks.arbitration.asPlaintiff > 0 || data.risks.arbitration.asDefendant > 0
  const hasManyInspections = data.risks.inspections.total > 5
  
  if (hasEnforcements || hasLargeSum) {
    return {
      level: "high",
      explanation: "из-за исполнительных производств" + (hasLargeSum ? " и большой суммы исков" : ""),
      recommendation: "рассмотреть добавление в blacklist"
    }
  } else if (hasManyInspections || hasManyCases) {
    return {
      level: "medium",
      explanation: "из-за количества проверок" + (hasManyCases ? " и судебных споров" : ""),
      recommendation: "усиленный мониторинг"
    }
  } else {
    return {
      level: "low",
      explanation: "ограничений не выявлено",
      recommendation: "стандартный мониторинг"
    }
  }
}
```

## Важные моменты

1. **Не дублировать данные:** Показывать только выбранный год в деталях, не все годы списком
2. **Логическая согласованность:** Если вердикт "риск повышен", это должно быть видно по цифрам (большая сумма исков, много проверок)
3. **Минимализм:** Не перегружать карточку лишними данными, только самое важное
4. **Читаемость:** Все цифры должны быть отформатированы (формат валюты, проценты)
5. **Адаптивность:** Карточка должна хорошо выглядеть на разных размерах экрана

## Пример данных для тестирования

```json
{
  "name": "ООО \"Пример Компании\"",
  "inn": "1234567890",
  "registrationDate": "2010-05-15",
  "companyStatus": "Действующая",
  "finances": {
    "2020": { "revenue": 100000000, "profit": 10000000, "changeFromPrevious": "+5.2%" },
    "2021": { "revenue": 120000000, "profit": 15000000, "changeFromPrevious": "+20.0%" },
    "2022": { "revenue": 150000000, "profit": 18000000, "changeFromPrevious": "+25.0%" },
    "2023": { "revenue": 180000000, "profit": 20000000, "changeFromPrevious": "+20.0%" },
    "2024": { "revenue": 200000000, "profit": 25000000, "changeFromPrevious": "+11.1%" }
  },
  "risks": {
    "arbitration": {
      "total": 201,
      "asPlaintiff": 0,
      "asDefendant": 0,
      "sum": 352800000000
    },
    "inspections": {
      "total": 15,
      "violations": 3
    },
    "enforcements": {
      "count": 0
    }
  },
  "verdict": {
    "level": "high",
    "explanation": "из-за большой суммы исков",
    "recommendation": "рассмотреть добавление в blacklist"
  }
}
```

## Технические требования

- React компонент (TypeScript)
- Использовать Tailwind CSS для стилей
- Компоненты shadcn/ui: Card, Badge, Button, Select, Separator
- SVG для графика (polyline)
- Форматирование чисел: функция formatCurrency для валюты, formatPercentage для процентов
- Адаптивный дизайн (mobile-first)

Сделай компонент чистым, читаемым и логичным. Все данные должны быть согласованы между собой.



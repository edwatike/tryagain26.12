# üóÑÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –¢–û–õ–¨–ö–û –û–î–ù–ê –ë–ê–ó–ê –î–ê–ù–ù–´–•:**

- **–ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** `b2bplatform`
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** `postgres`
- **–ü–∞—Ä–æ–ª—å:** `Jnvnszoe5971312059001`
- **–•–æ—Å—Ç:** `localhost`
- **–ü–æ—Ä—Ç:** `5432`

**–ü–û–õ–ù–´–ô DATABASE_URL:**
```
postgresql+asyncpg://postgres:Jnvnszoe5971312059001@localhost:5432/b2bplatform
```

## üö® –í–ê–ñ–ù–û: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö

**–ù–ï –ú–ï–ù–Ø–¢–¨ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –±–µ–∑:**
1. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. –†–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π –±–∞–∑—ã

**–ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
1. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ç–µ–∫—É—â–µ–π –±–∞–∑—ã
2. –û–±–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

## üìã –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### Backend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **–§–∞–π–ª:** `backend/app/config.py`
- **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è:** `DATABASE_URL`
- **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `postgresql+asyncpg://postgres:Jnvnszoe5971312059001@localhost:5432/b2bplatform`

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **–§–∞–π–ª:** `backend/.env`
- **–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è:** `DATABASE_URL`
- **–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:** `postgresql+asyncpg://postgres:Jnvnszoe5971312059001@localhost:5432/b2bplatform`

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–æ–µ–∫—Ç–∞:
- `moderator_suppliers` - –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏
- `keywords` - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
- `supplier_keywords` - —Å–≤—è–∑—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- `blacklist` - —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤
- `parsing_runs` - –∑–∞–ø—É—Å–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- `domains_queue` - –æ—á–µ—Ä–µ–¥—å –¥–æ–º–µ–Ω–æ–≤
- `audit_log` - –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –î—Ä—É–≥–∏–µ —Ç–∞–±–ª–∏—Ü—ã (–º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤):
- `attachments` - –≤–ª–æ–∂–µ–Ω–∏—è
- `otp_codes` - OTP –∫–æ–¥—ã
- `request_keys` - –∫–ª—é—á–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- `request_recipients` - –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- `requests` - –∑–∞–ø—Ä–æ—Å—ã
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ò –¥—Ä—É–≥–∏–µ...

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ backend/.env

–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `backend/.env`:

```env
DATABASE_URL=postgresql+asyncpg://postgres:Jnvnszoe5971312059001@localhost:5432/b2bplatform
PARSER_SERVICE_URL=http://127.0.0.1:9003
ENV=development
LOG_LEVEL=INFO
LOG_SQL=false
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
ATTACHMENTS_DIR=storage/attachments
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```powershell
$env:PGPASSWORD="Jnvnszoe5971312059001"
psql -U postgres -d b2bplatform -h localhost -p 5432 -c "SELECT version();"
```

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```powershell
$env:PGPASSWORD="Jnvnszoe5971312059001"
psql -U postgres -d b2bplatform -h localhost -p 5432 -f backend\migrations\001_initial_schema.sql
psql -U postgres -d b2bplatform -h localhost -p 5432 -f backend\migrations\002_audit_log.sql
```

## üìù –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞

```powershell
$env:PGPASSWORD="Jnvnszoe5971312059001"
pg_dump -U postgres -d b2bplatform -h localhost -p 5432 > backup_b2bplatform_$(Get-Date -Format "yyyyMMdd_HHmmss").sql
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞

```powershell
$env:PGPASSWORD="Jnvnszoe5971312059001"
psql -U postgres -d b2bplatform -h localhost -p 5432 < backup_b2bplatform_20251226_120000.sql
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏:

```powershell
cd backend
python ../scripts/check_data_integrity.py
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ü–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –î–ª—è production –æ–∫—Ä—É–∂–µ–Ω–∏—è:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª—ã –≤ Git
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã/–º–µ–Ω–µ–¥–∂–µ—Ä—ã –ø–∞—Ä–æ–ª–µ–π
4. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `DATABASE_SETUP_GUIDE.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- `APPLY_MIGRATIONS.md` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
- `docs/TROUBLESHOOTING.md` - —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- `scripts/README.md` - —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î



















